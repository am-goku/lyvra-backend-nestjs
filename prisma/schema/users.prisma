model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  name      String?
  password  String
  role      Role     @default(USER)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  Product Product[]

  Order Order[]
  Cart  Cart?

  Wishlist Wishlist[]

  Address      Address[]
  reviews      Review[]
  couponUsages CouponUsage[]
}

enum Role {
  USER
  ADMIN
}

// ADDRESS SCHEMA
model Address {
  id     Int  @id @default(autoincrement())
  userId Int
  user   User @relation(fields: [userId], references: [id])

  fullName   String
  phone      String
  house      String
  landmark   String?
  city       String
  state      String
  postalCode String
  country    String

  isDefault   Boolean     @default(false)
  addressType AddressType @default(SHIPPING)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  Order Order[] @relation("OrderAddress")
}

enum AddressType {
  SHIPPING
  BILLING
}
